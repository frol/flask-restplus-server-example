Stack 1 - Docker Compose topology + nginx reverse proxy
==========================

This stack showcases an implementation of the RESTful API server in a
Docker Compose topology with an nginx reverse proxy.

Project Structure
-----------------

### Root folder

Folders:

* `revproxy` - Basic nginx configuration

Files:

* `README.md`
* `docker-compose.yml` - Docker Compose config file which is used to build a Docker
  images and run the topology (api and reverse proxy).


Dependencies
------------

### Project Dependencies

* [**RESTful API Server Example**](../../api/) 
* [**Docker**](https://www.docker.com/) 1.11+
* [**Docker Compose**](https://docs.docker.com/compose/overview/) 1.8+


Installation
------------

### From sources

#### Clone the Project

```bash
$ git clone https://github.com/frol/flask-restplus-server-example.git
```

#### Run the application topology

It is very easy to start exploring the example using Docker Compose:

```bash
$ cd deploy/stack1
$ docker-compose build
$ docker-compose up
```

To tear it down:
```bash
$ docker-compose kill
$ docker-compose rm -fv
```

Should you need to change the reverse proxy port, just change the following section
```
revproxy:
  restart: always
  build: ./revproxy
  ports:
    - "80:80"
  links:
    - api:api
```

to 

```
revproxy:
  restart: always
  build: ./revproxy
  ports:
    - "<CUSTOM_PORT>:80"
  links:
    - api:api
```

Quickstart
----------

Open reverse proxy home page
[http://127.0.0.1/](http://127.0.0.1/) or http://127.0.0.1:CUSTOM_PORT if you changed it

Open online interactive API documentation:
[http://127.0.0.1/api/v1/](http://127.0.0.1/api/v1/)

Autogenerated swagger config is always available from
[http://127.0.0.1:5000/api/v1/swagger.json](http://127.0.0.1:5000/api/v1/swagger.json)

Read the [RESTful API Server Example](../../api/) doc for more information about the API itself.

# Contributors

* Patrice LACHANCE (patrice at itisopen.net)

